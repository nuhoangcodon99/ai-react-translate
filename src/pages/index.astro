---
import '@/styles/globals.css'

import { getTranslateUrl } from "../pocket";
// import Chat from "./_Chat";
import Translate from "./_Translate";

const initialUrl = await getTranslateUrl();
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>AI Convert Translator</title>
  </head>
  <body class="dark:bg-gray-900">
    <!-- <Chat client:load /> -->
    <Translate initialUrl={initialUrl} client:only="react" />
    <button
      id="scrollToTop"
      class="fixed bottom-4 right-4 bg-blue-500 text-white p-3 rounded-full shadow-lg hover:bg-blue-600 hover:scale-110 hover:shadow-xl transition-all duration-300 opacity-0 invisible"
      onclick="window.scrollTo({top: 0, behavior: 'smooth'})"
    >
      â¬†
    </button>
  </body>

  <script>
    const scrollBtn = document.getElementById("scrollToTop");

    if (scrollBtn) {
      window.addEventListener("scroll", () => {
        if (window.scrollY > 200) {
          scrollBtn.classList.remove("opacity-0", "invisible");
          scrollBtn.classList.add("opacity-100");
        } else {
          scrollBtn.classList.add("opacity-0", "invisible");
          scrollBtn.classList.remove("opacity-100");
        }
      });
    }
  </script>
</html>
